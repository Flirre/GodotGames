[gd_scene load_steps=10 format=2]

[ext_resource path="res://Berzerk.gd" type="Script" id=1]
[ext_resource path="res://background.png" type="Texture" id=2]
[ext_resource path="res://Player.tscn" type="PackedScene" id=3]
[ext_resource path="res://PlayerLaser.tscn" type="PackedScene" id=4]
[ext_resource path="res://EnemyRobot.tscn" type="PackedScene" id=5]
[ext_resource path="res://EnemyLaser.tscn" type="PackedScene" id=6]
[ext_resource path="res://Wall.tscn" type="PackedScene" id=8]

[sub_resource type="Shader" id=1]
code = "shader_type canvas_item;

void fragment() {
    vec4 curr_color = texture(TEXTURE,UV); // Get current color of pixel
    float color_strength = 0.1 + sin(TIME*0.5)*0.05;

    if (curr_color == vec4(0,0,0,1)){
        COLOR = vec4(color_strength, color_strength*0.5, color_strength, 1);
    }else{
        COLOR = curr_color;
    }
}"

[sub_resource type="ShaderMaterial" id=2]
shader = SubResource( 1 )

[node name="Game" type="Node"]

[node name="Map1" type="Node2D" parent="."]
script = ExtResource( 1 )

[node name="TextureRect" type="TextureRect" parent="Map1"]
material = SubResource( 2 )
margin_right = 256.0
margin_bottom = 224.0
texture = ExtResource( 2 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Player" parent="Map1" instance=ExtResource( 3 )]
position = Vector2( 22.0552, 204.795 )
collision_mask = 21
Laser = ExtResource( 4 )

[node name="EnemyRobot" parent="Map1" instance=ExtResource( 5 )]
position = Vector2( 152.598, 171.772 )
Laser = ExtResource( 6 )

[node name="EnemyRobot2" parent="Map1" instance=ExtResource( 5 )]
position = Vector2( 166.22, 24.0758 )
Laser = ExtResource( 6 )

[node name="Walls" type="Node2D" parent="Map1"]

[node name="Wall" parent="Map1/Walls" instance=ExtResource( 8 )]
position = Vector2( 26.031, 83.8568 )
scale = Vector2( 1.65897, 0.125 )

[node name="Wall11" parent="Map1/Walls" instance=ExtResource( 8 )]
position = Vector2( 111.435, 43.4143 )
scale = Vector2( 6.86961, 0.125 )

[node name="Wall7" parent="Map1/Walls" instance=ExtResource( 8 )]
position = Vector2( 100.258, 109.675 )
scale = Vector2( 6.12525, 0.125 )

[node name="Wall8" parent="Map1/Walls" instance=ExtResource( 8 )]
position = Vector2( 154.66, 155.471 )
scale = Vector2( 6.12525, 0.125 )

[node name="Wall3" parent="Map1/Walls" instance=ExtResource( 8 )]
position = Vector2( 130.08, 2.04204 )
scale = Vector2( 8.19911, 0.125 )

[node name="Wall4" parent="Map1/Walls" instance=ExtResource( 8 )]
position = Vector2( 127.142, 221.974 )
scale = Vector2( 8.19911, 0.125 )

[node name="Wall5" parent="Map1/Walls" instance=ExtResource( 8 )]
position = Vector2( 253.983, 77.2057 )
scale = Vector2( 0.125, 5.5023 )

[node name="Wall6" parent="Map1/Walls" instance=ExtResource( 8 )]
position = Vector2( 2.02332, 130.477 )
scale = Vector2( 0.125, 5.95217 )

[node name="Wall9" parent="Map1/Walls" instance=ExtResource( 8 )]
position = Vector2( 139.41, 178.694 )
scale = Vector2( 0.125, 1.56253 )

[node name="Wall12" parent="Map1/Walls" instance=ExtResource( 8 )]
position = Vector2( 2.04205, -10.1355 )
scale = Vector2( 0.125, 1.56253 )

[node name="Wall10" parent="Map1/Walls" instance=ExtResource( 8 )]
position = Vector2( 253.943, 209.538 )
scale = Vector2( 0.125, 0.759559 )

[node name="Wall2" parent="Map1/Walls" instance=ExtResource( 8 )]
position = Vector2( 194.276, 83.8568 )
scale = Vector2( 3.82482, 0.125 )
[connection signal="shoot" from="Map1/Player" to="Map1" method="_on_Player_shoot"]
[connection signal="shoot" from="Map1/EnemyRobot" to="Map1" method="_on_EnemyRobot_shoot"]
[connection signal="shoot" from="Map1/EnemyRobot2" to="Map1" method="_on_EnemyRobot_shoot"]
